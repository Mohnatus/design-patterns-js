[Главная](../..) / [Структурные шаблоны](..)

# Приспособленец (Flyweight)

## Другие названия
* `Кэш`
* `Легковесный элемент`

## Описание

Экономит оперативную память, **вычленяя общее состояние различных объектов и разделяя его между ними**. Объекты при этом могут быть совершенно разными.

Шаблон часто используется при работе с большим количеством мелких объектов (частиц).

## Реализация паттерна

В классе хранятся *только неизменяемые данные и методы* (**внутреннее состояние**), в которые передаются *изменяющиеся данные* (**внешнее состояние**), вынесенные за пределы `Приспособленца`.

Это позволяет *повторно использовать* одни и те же объекты, не создавая новые.

Важно обеспечить **неизменяемость внутреннего состояния** `Приспособленца` (отсутствие сеттеров и публичных полей).

## Примеры

* [Система частиц](./game)


## Взаимодействие с другими шаблонами

* [Фабричный метод](../../creational/factoryMethod)

  Когда необходимо получить новый объект, `Фабричный метод` ищет подходящий среди уже созданных (с подходящим внутренним состоянием) и использует его. 