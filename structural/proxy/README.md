[Главная](../..) / [Структурные шаблоны](..)

# Заместитель (Proxy)

## Другие названия

* `Прокси`

## Описание

Контролирует доступ к другому объекту, **перехватывая все вызовы** и не изменяя при этом поведение клиента. Выполняет функцию [контейнера](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D1%82%D0%B5%D0%B9%D0%BD%D0%B5%D1%80_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)).

Шаблон полезен при работе с сетевым соединением или с большими ресурсами, которые сложно копировать.

Недостатком может стать увеличение времени отклика от объекта (так как `Заместитель` производит дополнительные операции).


## Реализация паттерна

![Схема паттерна Заместитель](./scheme/scheme.gif)

`Заместитель` имеет *ссылку на `Реальный Субъект`* и при необходимости переадресует ему запросы.

## Виды заместителей

* **Протоколирующий**: пишет логи обращений к Субъекту.
* **Удаленный**: обеспечивает связь с Субъектом из другого адресного пространства. Может отвечать за кодирование запроса и его аргументов и отправку закодированного запроса.
* **Виртуальный**: создает реальный Субъект только тогда, когда он действительно нужен. Может кэшировать некоторую информацию, чтобы отложить создание субъекта.
* **Копировать-при-записи**: частный случай виртуального прокси. Копирует Субъект при выполнении клиентом определенных действий.
* **Кэширующий**: временно хранит результаты расчетов до отдачи их множественным клиентам.
* **Экранирующий**: защищает Субъект от опасных клиентов (или наоборот).
* **Синхронизирующий**: производит синхронизированный контроль доступа к Субъекту в асинхронной многопоточной среде.
* **Умная ссылка**: производит дополнительные действия, когда на Субъект создается ссылка, например, рассчитывает количество активных ссылок на Субъект.

## Примеры

* [Допуск за руль](./car)
* [Простая переадресация](./math)

## Похожие шаблоны

Шаблон `Заместитель` сохраняет интерфейс исходного объекта.

* [Декоратор](../decorator) - расширяет интерфейс исходного объекта
* [Адаптер](../adapter) - меняет интерфейс исходного объекта
* [Ленивая инициализация](../creational/lazyInitialization) 
