# Заместитель

он же `Прокси`

## Команда для запуска кода

```
npm run proxy:car
npm run proxy:math
```

## Что делает?

Контролирует доступ к другому объекту, перехватывая все вызовы.

Выполняет функцию [контейнера](https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D1%82%D0%B5%D0%B9%D0%BD%D0%B5%D1%80_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)).

Позволяет контролировать доступ к некоторому объекту, не изменяя при этом поведение клиента.

## Концепция

Заместитель имеет *ссылку на реальный объект* и при необходимости переадресует ему запросы.

## Недостатки

Увеличение времени отклика

## Виды заместителей

* **Протоколирующий**: пишет логи обращений к Субъекту.
* **Удаленный**: обеспечивает связь с Субъектом из другого адресного пространства. Может отвечать за кодирование запроса и его аргументов и отправку закодированного запроса.
* **Виртуальный**: создает реальный Субъект только тогда, когда он действительно нужен. Может кэшировать некоторую информацию, чтобы отложить создание субъекта.
* **Копировать-при-записи**: частный случай виртуального прокси. Копирует Субъект при выполнении клиентом определенных действий.
* **Кэширующий**: временно хранит результаты расчетов до отдачи их множественным клиентам.
* **Экранирующий**: защищает Субъект от опасных клиентов (или наоборот).
* **Синхронизирующий**: производит синхронизированный контроль доступа к Субъекту в асинхронной многопоточной среде.
* **Умная ссылка**: производит дополнительные действия, когда на Субъект создается ссылка, например, рассчитывает количество активных ссылок на Субъект.

## Применение

Шаблон полезен при работе с сетевым соединением или с большими ресурсами, которые сложно копировать.

## Пример из жизни

Ну, почти из жизни. Из недалекого фантастического будущего.

Умный автомобиль проверяет ваш возраст прежде чем разрешить поездку, обеспечивая прослойку между объектом (Автомобиль) и клиентом (Водителем). Это можно считать `Виртуальным прокси`, ведь сам автомобиль создается только в том случае, если клиент соответствует некоторым условиям.


## Похожие шаблоны

*Прокси - тот же самый интерфейс*

* [Декоратор](../decorator) - расширенный интерфейс
* [Адаптер](../adapter) - другой интерфейс
