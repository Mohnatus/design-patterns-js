[Порождающие шаблоны](../#readme) / Отложенная (ленивая) инициализация

# Отложенная (ленивая) инициализация (Lazy Initialization)


## Содержание

* [Описание паттерна](#-описание-паттерна)
* [Реализация паттерна](#-реализация-паттерна)
* [Примеры](#-примеры)
* [Похожие паттерны](#-похожие-паттерны)



## ![](../../ui/info.svg) Описание паттерна

Очень простой паттерн, который откладывает процесс инициализации некоторого объекта до момента первого обращения к нему.

Более глобальная идея - **откладывание любой ресурсоемкой операции** (не только *инстанцирования*) до того момента, когда она непосредственно потребуется в первый раз.

Паттерн полезен для работы с объектами, создание которых занимает много времени/требует много ресурсов. Есть вероятность, что он вообще не потребуется в программе (например, клиент не обратится к нему), поэтому не имеет смысла создавать его сразу же.

Начальная загрузка программы при этом происходит быстрее, но может произойти задержка при первом обращении к объекту/операции, так как он будет инициализироваться.

Порядок инициализации в этом шаблоне нельзя установить явно, ведь он зависит не от программы, а от внешних факторов.



## ![](../../ui/gear.svg) Реализация паттерна

Один из способов реализации паттерна - проверка существования объекта (сравнение с `null`). Если объект еще не создан, запускается инициализация.



## ![](../../ui/code.svg) Примеры

* В JavaScript этот паттерн, например, можно использовать для работы с DOM-деревом - инициализировать сложные объекты документа.
* Ленивая загрузка картинок.



## ![](../../ui/good.svg) Преимущества

* Инициализация выполняется только в тех случаях, когда она действительно необходима;
* Ускоряется начальная инициализация.



## ![](../../ui/bad.svg) Недостатки

* Невозможно явным образом задать порядок инициализации объектов;
* Возникает задержка при первом обращении к объекту



## ![](../../ui/twins.svg) Похожие паттерны

* [Заместитель (Proxy)](../structural/proxy#readme)



## ![](../../ui/interaction.svg) Взаимодействие с другими паттернами

**Частое применение (паттерны не связаны напрямую)**

* [Фабричный метод (Factory method)](../factoryMethod#readme), [Заместитель (Proxy)](../structural/proxy#readme), [Одиночка (Singleton)](../singleton#readme). Часто используется в сочетании с этими шаблонами.


## Источники

* [wikipedia](https://ru.wikipedia.org/wiki/%D0%9E%D1%82%D0%BB%D0%BE%D0%B6%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F_%D0%B8%D0%BD%D0%B8%D1%86%D0%B8%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F)
